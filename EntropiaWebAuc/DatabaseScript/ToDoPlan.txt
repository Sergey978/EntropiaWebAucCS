https://forums.asp.net/t/1691724.aspx?Render+multiple+partial+view+using+Ajax+Begin


Re: Render multiple partial view using Ajax.Begin
Jun 20, 2011 06:26 AM|LINK

I needed something similar and here is a sample code followed by francesco's suggession

Action Method for Ajax call:

public class HomeController : Controller
    {
        [HttpPost]
        public ActionResult MultiDiv()
        {
            return PartialView("MultiDiv");
        }
    }
Main View:

@using (Ajax.BeginForm("MultiDiv", "Home", new AjaxOptions()
{
    HttpMethod = "POST",
    InsertionMode = InsertionMode.Replace,
    UpdateTargetId = "HiddenDiv",
    OnSuccess = "OnSuccess"
}))
{
    <input id="input1" type="text" /> <input id="input2" type="submit" value="Submit" />
}

<div id="HiddenDiv"  style="display:none;">
</div>


<div id="MainDiv">
<div id="mydiv_1"></div>
......div seperator......
<div id="mydiv_2"></div>
</div>

<script type="text/javascript">
   function OnSuccess() {
       var $holder = $('HiddenDiv').html();
       $('#mydiv_1').html($('#div_1', $holder).html());
       $('#mydiv_2').html($('#div_2', $holder).html());
       $('#HiddenDiv').html('');
    }

</script>
Partial View(MultiDiv.cshtml):

<div id="div_1">From Div 1....</div>
<div id="div_2">From Div 2....</div>

@Ajax.ActionLink("Click Me", "Sample", new AjaxOptions { HttpMethod="Get", OnComplete="_Complete"})
<script type="text/javascript">
    function _Complete(data) {
        var JsonObj = $.parseJSON(data.responseText);
        $("#span1").html(JsonObj.Student.Name);
        $("#span2").html(JsonObj.Teacher.Name);
    }
</script>
<br />
<span id="span1"></span>
<br />
<span id="span2"></span>
 Action:

public ActionResult Sample()
        {
            MyClass cla = new MyClass { Student = new Student { ID = 1, Name = "Student" }, Teacher = new Teacher { ID=1, Name="Teacher" } };
            return Json(cla,JsonRequestBehavior.AllowGet);
        }
