@model EntropiaWebAuc.Domain.StandartItems
@using EntropiaWebAuc.Areas.Admin.ViewModel 

@{
    ViewBag.Title = "Standart Item Category: Edit " + @Model.Name;
}
@if (Model.Name == null)
{
    <h1>Create new Standart Item</h1>
    ViewBag.button = "Create";
}
else
{
    <h1>Edit @Model.Name</h1>
    ViewBag.button = "Edit";
}

@using (Html.BeginForm("Edit", "StandartItem"))
{
    @Html.ValidationSummary(true)

    <div class="form-group">
        @Html.HiddenFor(m => m.Id)
        @Html.LabelFor(model => model.Id)
        @Html.DisplayFor(model => model.Id)
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.Name)
        @Html.TextBoxFor(model => model.Name, new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.Name)
    </div>


    <div class="form-group">
        @Html.LabelFor(model => model.Price)
        @Html.TextBoxFor(model => model.Price, new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.Price)
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.StandartItemCategories.Name)
        @Html.DropDownListFor(model => model.CategoryId, new SelectList(ViewBag.Categories, "Id", "Name","ParentName", 1), new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.StandartItemCategories)
    </div>

    <div>
        <input type="submit" class="btn btn-info" value="@ViewBag.button" />

    </div>
    <div>
        @foreach(CategoryViewModel category in ViewBag.Categories)
        {
            <p>@category.Id, @category.Name,  @category.ParentId, @category.ParentName </p><br>
            
        }

    </div>

}


